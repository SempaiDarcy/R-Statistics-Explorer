# Объяснение функции weighted.mean()

# Функция weighted.mean() в R вычисляет взвешенное среднее для набора значений.
# В этом примере мы вычисляем взвешенное среднее для столбца "Murder.Rate", используя 
# столбец "Population" в качестве весов.

# weighted.mean(x, w)
# Где:
#   - x — это набор значений (в данном случае столбец "Murder.Rate").
#   - w — это набор весов (в данном случае столбец "Population").

# Формула для взвешенного среднего:
#   Взвешенное среднее = сумма(значение * вес) / сумма(весов)
# В этом примере "значение" — это уровень убийств, а "вес" — это численность населения
# для каждого штата. Это даёт большее влияние штатам с большим населением.

# Пример кода:

res4 <- weighted.mean(state[["Murder.Rate"]], w=state[["Population"]])
print(res4)

# Пояснение:
#   - state[["Murder.Rate"]] извлекает данные об уровне убийств для каждого штата.
#   - state[["Population"]] предоставляет данные о населении для каждого штата,
#     которые используются в качестве весов.
#   - Функция weighted.mean вычисляет средний уровень убийств, 
#     придавая большее значение штатам с большим населением.

# Пример:
# Если у нас есть следующие данные:
#   - Murder.Rate = c(5, 3, 8)
#   - Population  = c(100, 200, 150)
# Взвешенное среднее будет:
#   Взвешенное среднее = (5*100 + 3*200 + 8*150) / (100 + 200 + 150)
#                      = (500 + 600 + 1200) / 450
#                      = 2300 / 450 ≈ 5.11
# Это означает, что штаты с большим населением оказывают большее влияние на итоговый результат.

# Заключение:
# Использование weighted.mean() позволяет учитывать тот факт, что в некоторых штатах
# (или других записях) численность населения больше, что даёт более точное представление
# о среднем уровне убийств по всей популяции штатов.
